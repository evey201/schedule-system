import { useState } from 'react';
import { InputContainer, Label, PasswordElement, Validation } from './FormInput.styled'
import { FormInputProps } from './formInput'

export const Password = ({
    error,
    label,
    onChange,
    // visible,
    // setVisible,
    type,
    name,
    value,
    disabled,
    ...props
}: FormInputProps) => {
    const [visible, setVisible] = useState<boolean>(false); 
    error = error ? error.toString() : ''
    return (
        <InputContainer>
            {label && (
                <Label>
                    {label}
                </Label>
            )}
            <div className="relative">
                <PasswordElement
                    // error={error}
                    type={visible ? 'text' : 'password'}
                    name={name}
                    disabled={disabled}
                    value={value}
                    onChange={onChange}
                    autoComplete="off"
                    {...props}
                />
                <span>Forgot password?

                    {visible ?
                        <svg onClick={() => setVisible(false)} className='absolute top-3.5 right-5 cursor-pointer' width="22" height="17" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path className={`${visible ? '#300C4D' : '#300C4D' }`} d="M20.1355 0.216186C20.4143 0.478229 20.4397 0.888283 20.2116 1.17724L20.1355 1.26002L3.62047 16.7838C3.31382 17.0721 2.81663 17.0721 2.50998 16.7838C2.23121 16.5218 2.20586 16.1117 2.43395 15.8228L2.50998 15.74L4.57467 13.8005C3.08926 12.5261 1.84358 10.8225 0.91621 8.79184C0.831088 8.60544 0.831325 8.39433 0.916866 8.20811C1.99057 5.87061 3.48102 3.96402 5.26928 2.64201C7.0794 1.29542 9.16886 0.575426 11.3223 0.575426C13.2647 0.575426 15.1501 1.16276 16.8385 2.27046L19.025 0.216186C19.3317 -0.0720618 19.8289 -0.0720618 20.1355 0.216186ZM19.7476 4.96021C20.5075 5.90914 21.1715 6.99852 21.7276 8.20722C21.8136 8.39401 21.8136 8.60586 21.7278 8.79271C19.553 13.5289 15.6511 16.4245 11.3223 16.4245C10.3369 16.4245 9.36188 16.2747 8.4228 15.9801C8.01143 15.851 7.78925 15.4329 7.92654 15.0463C8.06383 14.6596 8.5086 14.4507 8.91997 14.5798C9.69924 14.8242 10.5064 14.9483 11.3223 14.9483C14.7822 14.9483 18.0031 12.6864 19.9837 8.82978L20.1467 8.50138L20.0913 8.38456C19.6927 7.5784 19.2422 6.83896 18.7452 6.17414L18.4929 5.84799C18.2321 5.52231 18.3015 5.05955 18.648 4.81439C18.9945 4.56924 19.4868 4.63452 19.7476 4.96021ZM11.3223 2.05163C9.53227 2.05163 7.78346 2.65424 6.24202 3.80096C4.76596 4.89217 3.50082 6.46072 2.54557 8.40041L2.49672 8.50138L2.5442 8.60027C3.37445 10.2949 4.44429 11.704 5.68594 12.7549L7.92398 10.6507C7.47213 10.0255 7.22446 9.28495 7.22446 8.50118C7.22446 6.36841 9.05428 4.6473 11.3223 4.6473C12.1516 4.6473 12.9478 4.88173 13.6116 5.30445L15.7082 3.33373C14.3391 2.49052 12.8472 2.05163 11.3223 2.05163ZM14.6063 8.31583L14.7124 8.32693C15.1392 8.39909 15.423 8.78282 15.3463 9.18403C15.0454 10.7567 13.7295 11.996 12.0575 12.2813C11.6308 12.3541 11.2221 12.088 11.1446 11.6869C11.0672 11.2858 11.3503 10.9016 11.777 10.8288C12.8041 10.6536 13.6157 9.88917 13.8006 8.92273C13.8709 8.55496 14.2198 8.30017 14.6063 8.31583ZM11.3223 6.1235C9.92186 6.1235 8.79493 7.18349 8.79493 8.50118C8.79493 8.88506 8.8899 9.24952 9.06799 9.57563L12.4674 6.38048C12.1201 6.21415 11.7282 6.1235 11.3223 6.1235Z" fill="#B2BBBF"/>
                        </svg>
                        :
                        <svg onClick={() => setVisible(true)} className='absolute top-3.5 right-5 cursor-pointer' width="22" height="17" viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path className={`${visible ? '#300C4D' : '#300C4D' }`} d="M20.1355 0.216186C20.4143 0.478229 20.4397 0.888283 20.2116 1.17724L20.1355 1.26002L3.62047 16.7838C3.31382 17.0721 2.81663 17.0721 2.50998 16.7838C2.23121 16.5218 2.20586 16.1117 2.43395 15.8228L2.50998 15.74L4.57467 13.8005C3.08926 12.5261 1.84358 10.8225 0.91621 8.79184C0.831088 8.60544 0.831325 8.39433 0.916866 8.20811C1.99057 5.87061 3.48102 3.96402 5.26928 2.64201C7.0794 1.29542 9.16886 0.575426 11.3223 0.575426C13.2647 0.575426 15.1501 1.16276 16.8385 2.27046L19.025 0.216186C19.3317 -0.0720618 19.8289 -0.0720618 20.1355 0.216186ZM19.7476 4.96021C20.5075 5.90914 21.1715 6.99852 21.7276 8.20722C21.8136 8.39401 21.8136 8.60586 21.7278 8.79271C19.553 13.5289 15.6511 16.4245 11.3223 16.4245C10.3369 16.4245 9.36188 16.2747 8.4228 15.9801C8.01143 15.851 7.78925 15.4329 7.92654 15.0463C8.06383 14.6596 8.5086 14.4507 8.91997 14.5798C9.69924 14.8242 10.5064 14.9483 11.3223 14.9483C14.7822 14.9483 18.0031 12.6864 19.9837 8.82978L20.1467 8.50138L20.0913 8.38456C19.6927 7.5784 19.2422 6.83896 18.7452 6.17414L18.4929 5.84799C18.2321 5.52231 18.3015 5.05955 18.648 4.81439C18.9945 4.56924 19.4868 4.63452 19.7476 4.96021ZM11.3223 2.05163C9.53227 2.05163 7.78346 2.65424 6.24202 3.80096C4.76596 4.89217 3.50082 6.46072 2.54557 8.40041L2.49672 8.50138L2.5442 8.60027C3.37445 10.2949 4.44429 11.704 5.68594 12.7549L7.92398 10.6507C7.47213 10.0255 7.22446 9.28495 7.22446 8.50118C7.22446 6.36841 9.05428 4.6473 11.3223 4.6473C12.1516 4.6473 12.9478 4.88173 13.6116 5.30445L15.7082 3.33373C14.3391 2.49052 12.8472 2.05163 11.3223 2.05163ZM14.6063 8.31583L14.7124 8.32693C15.1392 8.39909 15.423 8.78282 15.3463 9.18403C15.0454 10.7567 13.7295 11.996 12.0575 12.2813C11.6308 12.3541 11.2221 12.088 11.1446 11.6869C11.0672 11.2858 11.3503 10.9016 11.777 10.8288C12.8041 10.6536 13.6157 9.88917 13.8006 8.92273C13.8709 8.55496 14.2198 8.30017 14.6063 8.31583ZM11.3223 6.1235C9.92186 6.1235 8.79493 7.18349 8.79493 8.50118C8.79493 8.88506 8.8899 9.24952 9.06799 9.57563L12.4674 6.38048C12.1201 6.21415 11.7282 6.1235 11.3223 6.1235Z" fill="#B2BBBF"/>
                        </svg>
                    }
                </span>
            </div>
            {error && (
                <Validation>
                    <svg className="mr-1" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 0C9.31373 0 12 2.68647 12 6C12 9.31353 9.31373 12 6 12C2.68667 12 0 9.31333 0 6C0 2.68667 2.68667 0 6 0ZM6 0.9C3.18373 0.9 0.9 3.18373 0.9 6C0.9 8.81627 3.18373 11.1 6 11.1C8.81666 11.1 11.1 8.81649 11.1 6C11.1 3.18351 8.81666 0.9 6 0.9ZM6.00306 7.82754C6.25159 7.82754 6.45306 8.02901 6.45306 8.27754C6.45306 8.50536 6.28377 8.69363 6.06412 8.72343L5.99706 8.72754C5.74853 8.72754 5.54706 8.52607 5.54706 8.27754C5.54706 8.04972 5.71635 7.86144 5.936 7.83165L6.00306 7.82754ZM5.99706 3.27246C6.22488 3.27246 6.41316 3.44175 6.44295 3.6614L6.44706 3.72246V6.37386C6.44706 6.62239 6.24559 6.82386 5.99706 6.82386C5.76924 6.82386 5.58097 6.65457 5.55117 6.43492L5.54706 6.37386V3.72246C5.54706 3.47393 5.74853 3.27246 5.99706 3.27246Z" fill="#DC2626"/>
                    </svg>
                    {error}
                </Validation>
            )}
        </InputContainer>
    )
}
